<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html lang="en" class="no-js"> <!--<![endif]-->
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>MAKE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/main.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Alfa+Slab+One&family=Bree+Serif&family=Dancing+Script:wght@700&family=Edu+VIC+WA+NT+Beginner&family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@200;400&family=Libre+Baskerville:wght@700&family=Pacifico&family=Permanent+Marker&family=Righteous&family=Varela+Round&display=swap"
        rel="stylesheet">

        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,0" />        
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ee9d22">
    <meta name="msapplication-TileColor" content="#ee9d22">
    <meta name="theme-color" content="#ee9d22">

    <!--- Meta Tags -->
    <meta name="title" content="MAKE">
    <meta name="description" content="MAKE - website for HMC's Makerspace">
    <meta name="keywords" content="makerspace, harvey mudd, mudd, make, harvey mudd makerspace">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">
    <meta name="revisit-after" content="10 days">

    <!--- Open Graph Tags -->
    <meta property="og:title" content=MAKE>
    <meta property="og:site_name" content="MAKE - website for HMC's Makerspace">
    <meta property="og:url" content=https://make.hmc.edu>
    <meta property="og:description" content="What does MAKE handle? 
        - Safety quizzes and swipe access
        - Inventory management and discovery 
        - Student storage reservation and renewal system 
        - Tool checkout system">
    <meta property="og:type" content=website>
    <meta property="og:image" content=https://make.hmc.edu/apple-touch-icon.png>


    <script>
        function getTheme() {
            let ver = localStorage.getItem("make-version");
            let theme = localStorage.getItem("theme");

            // If the version isn't present, that means 
            // it's the first time the user has visited the site

            // Set the theme to dark always
            if (ver == null) {
                localStorage.setItem("theme", "dark");
                theme = "dark";
            }

            if (theme == null) {
                const darkThemeMq = window.matchMedia("(prefers-color-scheme: dark)");
                if (darkThemeMq.matches) {
                    theme = "dark";
                } else {
                    theme = "light";
                }
                localStorage.setItem("theme", theme);
            }

            if (theme == "light") {
                document.documentElement.setAttribute('data-theme', 'light');
            } else {
                document.documentElement.setAttribute('data-theme', 'dark');
            }
        }

        getTheme();
    </script>
</head>

<div id="fader">
    <img id="fader-img" src="/android-chrome-256x256.png" alt="">
</div>

<body>
    <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

    <main id="main-grid">
        <nav id="left-bar">
            <div id="logo-container">
                <div id="main-logo" onclick="setPage('home')">MAKE</div>
                <div id="mobile-logo" onclick="toggleMobileMenu()">≡</div>
            </div>
            <button id="home-button" class="active-button" onclick="setPage('home')">
                <span class="material-symbols-outlined">
                    home
                </span>
                <span>Home</span>
            </button>
            <button id="steward-button" class="hidden" onclick="setPage('steward')">
                <span class="material-symbols-outlined">
                    person_apron
                </span>
                <span>Steward<br>Resources</span>
            </button>
            <button id="quiz-info-button" onclick="setPage('quiz-info')">
                <span class="material-symbols-outlined">
                    quiz
                </span>
                <span>Quizzes<br>& Information</span>
            </button>
            <button id="equipment-button" onclick="setPage('equipment')">
                <span class="material-symbols-outlined">
                    handyman
                </span>    
                <span>Areas<br>& Equipment</span>
            </button>
            <button id="schedule-button" onclick="setPage('schedule')">
                <span class="material-symbols-outlined">
                    calendar_month
                </span>
                <span>Schedule</span>
            </button>
            <button id="workshops-button" onclick="setPage('workshops')">
                <span class="material-symbols-outlined">
                    factory
                </span>
                <span>Workshops</span>
            </button>
            <button id="inventory-button" onclick="setPage('inventory')">
                <span class="material-symbols-outlined">
                    inventory_2
                </span>
                <span>Inventory</span>
            </button>
            <button id="checkouts-button" onclick="setPage('checkouts')">
                <span class="material-symbols-outlined">
                    shopping_cart
                </span>
                <span>Checkouts</span>
            </button>

                    <!--
            <button id="3d-printers-button" onclick="setPage('3d-printers')"><img class="page-icon"
                    src="/img/printer-icon.svg" alt=""> <span>3D Printers</span></button>
                    -->

            <button id="student-projects-button" onclick="setPage('student-projects')">
                <span class="material-symbols-outlined">
                    request_page
                </span>
                <span>Student Project<br>Application</span>
            </button>
            <button id="values-button" onclick="setPage('values')">
                <span class="material-symbols-outlined">
                    partner_exchange
                    </span>
                <span>Values</span>
            </button>
            <button id="faq-button" onclick="setPage('faq')">
                <span class="material-symbols-outlined">
                    help
                </span>
                <span>FAQ</span>
            </button>
            <button id="settings-button" onclick="setPage('settings')">
                <span class="material-symbols-outlined">
                    settings
                </span>
                <span>Settings</span>
            </button>

            <div class="hmc-content">
                A Resource of
                <br>
                Harvey Mudd College
                <br>
                <a href="https://www.hmc.edu/website-accessibility/" aria-label="Harvey Mudd Accessibility Guidelines/Complaints">Accessibility</a>
            </div>
        </nav>

        <!--

        ERROR PAGE

        -->

        <section id="page-error" class="main-content">
            <div class="content-container">
                <div id="error-content" class="content-body">
                </div>
            </div>
        </section>

        <!-- 
        
        HOME PAGE
        
        -->
        <section id="page-home" class="main-content">
            <div id="current-announcement">
                <div id="announcement-text">
                    Welcome back 7C students, faculty, and staff! Make sure to retake the safety quizzes!
                </div>
            </div>

            <div id="welcome-message">
                <h1>Welcome to</h1>
                <h1 class="title-font" id="main-title-ani">MAKE</h1>
                <h2>
                    Website for Harvey Mudd College's Makerspace 
                </h2>

                <div id="welcome-buttons">
                    <button onclick="setPage('quiz-info')">
                        <span class="material-symbols-outlined">
                            verified_user
                        </span>
                        Get certified
                    </button>
                    <button onclick="setPage('schedule')">
                        <span class="material-symbols-outlined">
                            calendar_month
                        </span>
                        View our schedule
                    </button>
                    <button onclick="openInNewTab('https://make.hmc.edu/discord')">
                        <img src="/img/discord.webp" alt="" height="24px">
                        Join the Discord
                    </button>
                </div>
            </div>

            <h3 id="status">
                The Makerspace is <span id="open-closed">OPEN</span> with <span id="num-stewards">...</span> stewards on duty.
            </h3>

            <div id="college-id-container" class="id-n content-body">
                <div id="college-id-login">
                    <input aria-label="College ID number login" type="tel" id="college-id-input" placeholder="Enter your college ID number" onchange="login()">
                    <button id="college-id-button" class="big" onclick="login()" aria-label="log in">
                        <span class="material-symbols-outlined">
                            login
                        </span>
                    </button>
                </div>


                <p3 id="login-error" class="hidden">
                    That ID number is not associated with any account.
                    <br>
                    Please take the <a href="https://docs.google.com/forms/d/e/1FAIpQLSfW3l2cxem3JwKqX3RJjjhJXKzAdwY9x4dYeXvOATGA-dhWzA/viewform">General Safety Quiz</a> to create an account.
                </p3>
            </div>

            <div id="logged-in-message" class="id-r hidden content-body">
                <p2>
                    Logged in as <span id="logged-in-name"></span>
                </p2>
                <button id="logout-button" class="big" onclick="logout()" aria-label="log out">
                    <span class="material-symbols-outlined">
                        logout
                    </span>

                    Log Out
                </button>
            </div>
        </section>

        <!--

        STEWARD ONLY PAGE

        -->
        <section id="page-steward" class="main-content hidden">
            <div class="content-container">
                <div class="content-body" id="steward-resources">
                    <h3>Quick Info</h3>
                    <div id="steward-quick-links" class="steward-resource">
                        <button onclick="openInNewTab('https://drive.google.com/drive/folders/0AH0hueN2V6xzUk9PVA')">
                            <span class="material-symbols-outlined">
                                smb_share
                            </span>
                            Steward Drive
                        </button>
                        <button onclick="openInNewTab('https://docs.google.com/document/d/1sNywFxnBcZsGDaA5ouCM8ctp4hqdYZUU06EicxFaEa4/edit')">
                            <span class="material-symbols-outlined">
                                developer_guide
                            </span>
                            Steward Reference Manual
                        </button>
                        <button onclick="openInNewTab('https://docs.google.com/document/d/1suOPAL12zjOgRAXtfOzo0-uRTozlsU3pYaeZSVGPDIM/edit')">
                            <span class="material-symbols-outlined">
                                lock_open
                            </span>
                            Usernames & Passwords
                        </button>
                        <button onclick="openInNewTab('https://docs.google.com/spreadsheets/d/e/2PACX-1vSY5bheau9FqUYYwx_tjP3c9eh0fUjJ48BkXrT7rVUBlNMs371UXuy7QmfQToPSz9FuCeVbjrQUUdfr/pubhtml')">
                            <span class="material-symbols-outlined">
                                today
                            </span>
                            Training Schedule
                        </button>
                        <button onclick="openInNewTab('https://forms.gle/ERQCxNsGLwV2GKiS8')">
                            <span class="material-symbols-outlined">
                                personal_injury
                            </span>
                            Report Injury
                        </button>

                        <p>
                            
                        </p>
                    </div>
                    
                    <h3>Your Shifts</h3>
                    <div id="steward-shifts">

                    </div>

                    <h3>Available Shifts</h3>
                    <div id="steward-available-shifts">
                    
                    </div>

                    <h3>Your Proficiencies</h3>
                    <div id="steward-proficiencies">
                    
                    </div>
                    <button id="save-proficiencies" onclick="updateStewardProficiencies()">Save Proficiencies</button>
                </div>
            </div>
        </section>

        <!--

        INVENTORY PAGE

        -->
        <section id="page-inventory" class="main-content hidden">

            <div class="content-container">
                <div id="inventory-search" class="content-header">
                    <input aria-label="Search through inventory" type="text" id="inventory-search-input" placeholder="Search for item...">

                    <span>
                        <select aria-label="Select room to filter by" id="room-select">
                            <option value="">-- Select Room/Area --</option>
                            <option value="Main">Main Makerspace</option>
                            <option value="Laser3D">3D Printer & Laser Cutter Room</option>
                            <option value="Studio">Studio</option>
                            <option value="Cage">The Cage</option>
                            <option value="Welding">Welding Area</option>
                            <option value="Electronics">Electronics Benches</option>
                            <option value="Composite">Composite Room</option>
                            <option value="Outdoor Storage">Outdoor Storage</option>
                        </select>
                    </span>

                    <span>
                        <select aria-label="Filter by Tool or Material" id="tool-material-select">
                            <option value="">-- Select Tool/Material --</option>
                            <option value="T">Tool</option>
                            <option value="M">Material</option>
                        </select>
                    </span>

                    <button id="restock-button" class="big" onclick="showRestock()">Restock Form</button>
                </div>

                <div id="inventory-results" class="content-body">

                </div>
            </div>
        </section>

        <!--

        EQUIPMENT PAGE

        -->

        <section id="page-equipment" class="main-content hidden">
            <div class="content-container">
                <div id="equipment-content" class="content-body">

                </div>
            </div>
        </section>

        <!--

        WORKSHOPS PAGE

        -->

        <section id="page-workshops" class="main-content hidden">
            <div class="content-container">
                <div id="workshops-header" class="content-header">
                    <p3>
                        Workshops are held in the Main Makerspace area, unless otherwise noted.
                    </p3>

                    <p3>
                        To attend a workshop, please RSVP. You will receive a reminder email the day of the workshop.

                    </p3>
                </div>

                <div id="workshops-content" class="content-body">
                    <div id="upcoming-workshops" class="workshop-container">
                    </div>

                    <div id="previous-workshops" class="workshop-container">
                    </div>
                </div>
            </div>
        </section>


        <!--

        STUDENT STORAGE PAGE

        -->
        <section id="page-student-storage" class="main-content hidden">

            <div class="no-id-message id-n">
                Please enter your college ID number on the home page to view student storage status
            </div>

            <div class="content-container id-r">
                <div id="student-storage-help" class="content-header">
                    <p3>
                        Your storage space(s) will appear in blue, other occupied spaces will appear in gray, and empty
                        spaces will appear in white.
                        <br><br>
                        Please note that releasing a storage space will require you to remove your items immediately
                        from the storage room.
                    </p3>
                </div>

                <div id="overall-student-storage" class="content-body">

                </div>
            </div>
        </section>

        <!--
        
        QUIZ PERMISSIONS PAGE

        -->

        <section id="page-quiz-info" class="main-content hidden">
            <div class="content-container">
                <div class="content-header">
                    <p3>
                        Don't know where to start? Take the <b>General Safety Quiz</b> first, then take any other quizzes
                        that interest you. Once you've passed a quiz with a score of 100% and are logged in, it will show up green on this page.
                        <br><br>
                        Failing to successfully complete the quiz prior to use is an honor code violation, and may
                        result in a suspension or ban from the Makerspace.
                        <br><br>    
                        Quizzes reset every year on <b>August 1st</b>.
                    </p3>
                </div>
                
                <div id="quiz-info" class="content-body">
                    <div id="quiz-list-container">
                        
                    </div>
                </div>
            </div>
        </section>

        <!--

        SCHEDULE PAGE

        -->
        <section id="page-schedule" class="main-content hidden">
            <div class="content-container">
                <div id="schedule-help" class="content-header">
                    <p3>
                        <div id="schedule-info">
                        </div>

                        <br>
                        Click on a skill proficiency above to see when a steward that has that proficiency is on duty.
                        <br>
                        Click on a shift to see what skill proficiencies the stewards on duty have.
                    </p3>
                </div>

                <div id="schedule-content" class="content-body">
                    <div class="stewards-legend">
                        <div class="stewards-1 info">One Steward on duty</div>
                        <div class="stewards-2 info">Two Stewards on duty</div>
                        <div class="head-steward info">Head Steward Office hours</div>
                    </div>

                    <table id="schedule-table"></table>
                </div>
            </div>
        </section>

        <!--

        CHECKOUTS PAGE

        -->
        <section id="page-checkouts" class="main-content hidden">

            <div class="no-id-message id-n">
                Please enter your college ID number on the home page to view checkouts
            </div>

            <div class="content-container id-r">
                <div id="checkouts-help" class="content-header">
                    <p3>
                        Here you can view the status of your current checkouts, as well as view your checkout history.
                    </p3>
                </div>

                <div id="checkouts" class="content-body">

                    <div id="checkouts-current">

                    </div>

                    <div id="checkouts-history">

                    </div>
                </div>
            </div>
        </section>


        <!--

        3D PRINTERS PAGE

        -->
        <section id="page-3d-printers" class="main-content hidden">

            <div class="no-id-message id-n">
                Please enter your college ID number on the home page to view 3D printers
            </div>

            <div class="content-container id-r">
                <div id="printers-help" class="content-header">
                    <p3>
                        Here you can view the status of the 3D printers.
                    </p3>
                </div>

                <div id="printers-statuses" class="content-body">
                    <h2>
                        Status
                    </h2>
                    <div id="printers-current">

                    </div>
                </div>
            </div>
        </section>


        <!--

        STUDENT PROJECT APPLICATION PAGE

        -->

        <section id="page-student-projects" class="main-content hidden">
            <div class="content-container">
                <div id="student-projects-help" class="content-header">
                    <p3>
                        Student Project Applications provide funding for projects that students would like to work on
                        in the Makerspace. $50 is available per student per semester, with the Braun grant providing $200
                        per Harvey Mudd student per semester.
                        <br><br>
                        For more information, please read the
                        <a href="https://docs.google.com/document/d/1vL0c9X3k5Puu1DT9c9-MUco-2kLTWvhHTXKJ1H0uOwk/">Terms and Conditions</a>.
                    </p3>                        
                </div>

                <div class="content-body">
                    <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSfAChwtyPLkcO125CjXl74JcOLUnC-fbORyQc_Erpdh8P6mRg/viewform?embedded=true" width="100%" height="100%" frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe>

                </div>
            </div>
        </section>

        <!--

        INFO & FAQ PAGE

        -->
        <section id="page-faq" class="main-content hidden">
            <div class="content-container">
                <div id="faq-content" class="content-body">
                </div>
            </div>
        </section>

        <!--
        
        VALUES PAGE

        -->
        <section id="page-values" class="main-content hidden">
            <div class="content-container">
                <div id="values-content" class="content-body">
                </div>
            </div>
        </section>


        <!--

        SETTINGS PAGE

        -->
        <section id="page-settings" class="main-content hidden">
            <div class="content-container">
                <div id="settings-content" class="content-body">
                </div>
            </div>
        </section>
    </main>

    <!--
        
    POPUPS
    
    -->

    <div id="popup-container" class="hidden">
        <div id="popup-background" onclick="closePopup()"></div>
        <div id="popup-content">
            <div id="restock" class="hidden">
                <h2>Restock/Request Form</h2>

                <label for="restock-reason">Reason</label>
                <select id="restock-reason" name="restock-reason" aria-label="Reason">
                    <option value="Out of Stock">Low/Out of Stock</option>
                    <option value="In Stock">New Item</option>
                    <option value="Broken">Broken</option>
                    <option value="Other">Other</option>
                </select>

                <label for="restock-item">Item Name / Details</label>
                <textarea type="text" id="restock-item" name="restock-item" aria-label="Item Name" placeholder="Super glue, amazon.com/item-link, etc..."></textarea>

                <label for="restock-quantity">Quantity</label>
                <input type="text" id="restock-quantity" name="restock-quantity" aria-label="Quantity" placeholder="Quantity...">
                
                <p>
                    You will receive an email when your request has been processed.
                </p>

                <div class="edit-buttons">
                    <button id="restock-submit" onclick="submitRestock()">Submit</button>
                    <button id="restock-cancel" onclick="closePopup()">Cancel</button>
                </div>
            </div>

            <div id="quick-nav" class="hidden">
                <h2>Kiosks</h2>
                <div class="quick-nav-item">
                    <button onclick="openUtility(this, '/kiosks/inventory_editor.html')">Edit Inventory</button>
                    <input type="text" aria-label="Inventory API Key" placeholder="API Key...">
                </div>
                <div class="quick-nav-item">
                    <button onclick="openUtility(this, '/kiosks/checkout_kiosk.html')">Checkout</button>
                    <input type="text" aria-label="Checkout API Key" placeholder="API Key...">
                </div>
                <div class="quick-nav-item">
                    <button onclick="openUtility(this, '/kiosks/student_storage_kiosk.html')">Student Storage</button>
                    <input type="text" aria-label="Student Storage API Key" placeholder="API Key...">
                </div>
                <div class="quick-nav-item">
                    <button onclick="openUtility(this, '/kiosks/management.html')">Management</button>
                    <input type="text" aria-label="3D Printer API Key" placeholder="API Key...">
                </div>
                <div class="quick-nav-item">
                    <button onclick="openUtility(this, '/kiosks/loom_utility.html', false)">Loom</button>
                </div>

                
                <div class="edit-buttons">
                    <button id="edit-shift-cancel" onclick="closePopup()">Close</button>
                </div> 
            </div>

            <div id="drop-shift" class="hidden">
                <h2>Drop Shift</h2>
                <div id="drop-shift-details"></div>
                
                <input type="date" id="drop-shift-date" name="drop-shift-date" aria-label="Drop shift date">
                
                <div class="edit-buttons">
                    <button id="edit-shift-submit" onclick="submitDropShift()">Drop Shift</button>
                    <button id="edit-shift-cancel" onclick="closePopup()">Cancel</button>
                </div> 
            </div>

            <div id="pickup-shift" class="hidden">
                <h2>Pickup Shift</h2>
                <div id="pickup-shift-details"></div>
                
                <div class="edit-buttons">
                    <button id="pickup-shift-submit" onclick="submitPickupShift()">Pickup Shift</button>
                    <button id="pickup-shift-cancel" onclick="closePopup()">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    
</body>
<script src="scripts/prelude.js?v=2.0"></script>

<script src="scripts/libs/fuzzysort.min.js"></script>
<script src="scripts/libs/showdown.min.js"></script>
<script src="scripts/libs/sweetalert.min.js"></script>

<script src="scripts/utils.js?v=2.2"></script>
<script src="scripts/page_home.js?v=2.1"></script>
<script src="scripts/page_stewards.js?v=2.1"></script>
<script src="scripts/page_inventory.js?v=2.1"></script>
<script src="scripts/page_student_storage.js?v=2.1"></script>
<script src="scripts/page_quiz_info.js?v=2.2"></script>
<script src="scripts/page_schedule.js?v=2.1"></script>
<script src="scripts/page_checkouts.js?v=2.1"></script>
<script src="scripts/page_workshops.js?v=2.5"></script>
<!--
<script src="scripts/page_printers.js"></script>
-->
<script src="scripts/page_faq.js?v=2.1"></script>
<script src="scripts/page_equipment.js?v=2.3"></script>
<script src="scripts/page_values.js?v=2.1"></script>
<script src="scripts/page_settings.js?v=2.1"></script>
<script src="scripts/page_error.js?v=2.1"></script>

<script src="scripts/start.js?v=2.1"></script>

</html>

// https://github.com/farzher/fuzzysort v3.0.2
((r,e)=>{"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():r.fuzzysort=e()})(this,r=>{"use strict";var f=r=>{"number"==typeof r?r=""+r:"string"!=typeof r&&(r="");var e=v(r);return H(r,{t:e.i,o:e.v,u:e.l})};class M{get["indexes"](){return this.p.slice(0,this.p.h).sort((r,e)=>r-e)}set["indexes"](r){return this.p=r}["highlight"](r,e){for(var[r,f="<b>",t="</b>"]=[this,r,e],i="function"==typeof f?f:void 0,o=r.target,a=o.length,n=r.indexes,v="",s=0,u=0,l=!1,c=[],b=0;b<a;++b){var p=o[b];if(n[u]===b){if(++u,l||(l=!0,i?(c.push(v),v=""):v+=f),u===n.length){i?(c.push(i(v+=p,s++)),v="",c.push(o.substr(b+1))):v+=p+t+o.substr(b+1);break}}else l&&(l=!1,i?(c.push(i(v,s++)),v=""):v+=t);v+=p}return i?c:v}get["score"](){return i(this.g)}set["score"](r){this.g=I(r)}}class G extends Array{get["score"](){return i(this.g)}set["score"](r){this.g=I(r)}}var a,n,e,t,H=(r,e)=>{var f=new M;return f.target=r,f.obj=e.obj??Y,f.g=e.g??W,f.p=e.p??[],f.t=e.t??"",f.o=e.o??Y,f.k=e.k??Y,f.u=e.u??0,f},i=r=>r===W?0:1<r?r:Math.E**(-2*((1-r)**.04307-1)),I=r=>0===r?W:1<r?r:1-Math.pow(Math.log(r)/-2+1,1/.04307),o=r=>{"number"==typeof r?r=""+r:"string"!=typeof r&&(r=""),r=r.trim();var e=v(r),f=[];if(e._)for(var t,i=r.split(/\s+/),i=[...new Set(i)],o=0;o<i.length;o++)""!==i[o]&&(t=v(i[o]),f.push({v:t.v,i:i[o].toLowerCase(),_:!1}));return{v:e.v,i:e.i,_:e._,l:e.l,m:f}},J=r=>{var e;return 999<r.length?f(r):(void 0===(e=s.get(r))&&(e=f(r),s.set(r,e)),e)},K=r=>{var e;return 999<r.length?o(r):(void 0===(e=u.get(r))&&(e=o(r),u.set(r,e)),e)},N=(r,e,f=!1,t=!1)=>{if(!1===f&&r._)return C(r,e,t);for(var f=r.i,i=r.v,o=i[0],a=e.o,n=i.length,v=a.length,s=0,u=0,l=0;;){if(o===a[u]){if(x[l++]=u,++s===n)break;o=i[s]}if(v<=++u)return Y}var s=0,c=!1,b=0,p=e.k,d=(p===Y&&(p=e.k=j(e.target)),0);if((u=0===x[0]?0:p[x[0]-1])!==v)for(;;)if(v<=u){if(s<=0)break;if(200<++d)break;--s;var w=A[--b],u=p[w]}else if(i[s]===a[u]){if(A[b++]=u,++s===n){c=!0;break}++u}else u=p[u];var h=n<=1?-1:e.t.indexOf(f,x[0]),g=!!~h,y=g&&(0===h||e.k[h-1]===h);if(g&&!y)for(var k=0;k<p.length;k=p[k])if(!(k<=h)){for(var _=0;_<n&&i[_]===e.o[k+_];_++);if(_===n){h=k,y=!0;break}}t=r=>{for(var e=0,f=0,t=1;t<n;++t)r[t]-r[t-1]!=1&&(e-=r[t],++f);if(e-=(12+(r[n-1]-r[0]-(n-1)))*f,0!==r[0]&&(e-=r[0]*r[0]*.2),c){for(var i=1,t=p[0];t<v;t=p[t])++i;24<i&&(e*=10*(i-24))}else e*=1e3;return e-=(v-n)/2,g&&(e/=1+n*n*1),y&&(e/=1+n*n*1),e-=(v-n)/2};if(c)if(y){for(k=0;k<n;++k)x[k]=h+k;m=x,S=t(x)}else m=A,S=t(A);else{if(g)for(var k=0;k<n;++k)x[k]=h+k;var m,S=t(m=x)}e.g=S;for(k=0;k<n;++k)e.p[k]=m[k];e.p.h=n;r=new M;return r.target=e.target,r.g=e.g,r.p=e.p,r},C=(r,e,f)=>{for(var t=new Set,i=0,o=Y,a=0,n=r.m,v=n.length,s=0,u=()=>{for(let r=s-1;0<=r;r--)e.k[_[2*r+0]]=_[2*r+1]},l=!1,c=0;c<v;++c){P[c]=W;var b=n[c],o=N(b,e);if(f){if(o===Y)continue;l=!0}else if(o===Y)return u(),Y;if(!(c===v-1)){var p=o.p,d=!0;for(let r=0;r<p.h-1;r++)if(p[r+1]-p[r]!=1){d=!1;break}if(d){var w=p[p.h-1]+1,h=e.k[w-1];for(let r=w-1;0<=r&&h===e.k[r];r--)e.k[r]=w,_[2*s+0]=r,_[2*s+1]=h,s++}}i+=o.g/v,P[c]=o.g/v,o.p[0]<a&&(i-=2*(a-o.p[0]));for(var a=o.p[0],g=0;g<o.p.h;++g)t.add(o.p[g])}if(f&&!l)return Y;u();var y=N(r,e,!0);if(y!==Y&&y.g>i){if(f)for(c=0;c<v;++c)P[c]=y.g/v;return y}(o=f?e:o).g=i;var k,c=0;for(k of t)o.p[c++]=k;return o.p.h=c,o},v=r=>{for(var e=r.length,f=r.toLowerCase(),t=[],i=0,o=!1,a=0;a<e;++a){var n=t[a]=f.charCodeAt(a);32===n?o=!0:i|=1<<(97<=n&&n<=122?n-97:48<=n&&n<=57?26:n<=127?30:31)}return{v:t,l:i,_:o,i:f}},j=r=>{for(var e=r.length,f=(r=>{for(var e=r.length,f=[],t=0,i=!1,o=!1,a=0;a<e;++a){var n=r.charCodeAt(a),v=65<=n&&n<=90,n=v||97<=n&&n<=122||48<=n&&n<=57,s=v&&!i||!o||!n,i=v,o=n;s&&(f[t++]=a)}return f})(r),t=[],i=f[0],o=0,a=0;a<e;++a)a<i?t[a]=i:(i=f[++o],t[a]=void 0===i?e:i);return t},s=new Map,u=new Map,x=[],A=[],_=[],O=[],P=[],Q=[],R=[],T=(r,e)=>{var f=r[e];if(void 0!==f)return f;if("function"==typeof e)return e(r);for(var t=e,i=(t=Array.isArray(e)?t:e.split(".")).length,o=-1;r&&++o<i;)r=r[t[o]];return r},U=r=>"object"==typeof r&&"number"==typeof r.u,V=1/0,W=-V,X=[],Y=(X.total=0,null),Z=f(""),$=(a=[],n=0,t=r=>{for(var e=a[i=0],f=1;f<n;){var t=f+1,i=f;t<n&&a[t].g<a[f].g&&(i=t),a[i-1>>1]=a[i],f=1+(i<<1)}for(var o=i-1>>1;0<i&&e.g<a[o].g;o=(i=o)-1>>1)a[i]=a[o];a[i]=e},(e={}).add=r=>{var e=n;a[n++]=r;for(var f=e-1>>1;0<e&&r.g<a[f].g;f=(e=f)-1>>1)a[e]=a[f];a[e]=r},e.S=r=>{var e;if(0!==n)return e=a[0],a[0]=a[--n],t(),e},e.M=r=>{if(0!==n)return a[0]},e.C=r=>{a[0]=r,t()},e);return{single:(r,e)=>{var f;return!r||!e||(r=K(r),U(e)||(e=J(e)),((f=r.l)&e.u)!==f)?Y:N(r,e)},go:(r,e,f)=>{if(!r)if(f?.all){var t=e;var i=f;var o=[],a=(o.total=t.length,i?.limit||V);if(i?.key)for(var n=0;n<t.length;n++){var v=t[n];var s=T(v,i.key);if(s==Y)continue;if(!U(s))s=J(s);var u=H(s.target,{g:s.g,obj:v});o.push(u);if(o.length>=a)return o}else if(i?.keys)for(n=0;n<t.length;n++){v=t[n];var l=new G(i.keys.length);for(var c=i.keys.length-1;c>=0;--c){s=T(v,i.keys[c]);if(!s){l[c]=Z;continue}if(!U(s))s=J(s);s.g=W;s.p.h=0;l[c]=s}l.obj=v;l.g=W;o.push(l);if(o.length>=a)return o}else for(n=0;n<t.length;n++){s=t[n];if(s==Y)continue;if(!U(s))s=J(s);s.g=W;s.p.h=0;o.push(s);if(o.length>=a)return o}return o;return}else return X;var b=K(r),p=b.l,d=b._,w=I(f?.threshold||0),h=f?.limit||V,g=0,y=0,k=e.length;function _(r){g<h?($.add(r),++g):(++y,r.g>$.M().g&&$.C(r))}if(f?.key)for(var m=f.key,S=0;S<k;++S){var M=e[S];!(D=T(M,m))||(p&(D=U(D)?D:J(D)).u)!==p||(E=N(b,D))===Y||E.g<w||(E.obj=M,_(E))}else if(f?.keys){var C=f.keys,j=C.length;r:for(S=0;S<k;++S){for(var M=e[S],x=0,A=0;A<j;++A){m=C[A];(D=T(M,m))?(U(D)||(D=J(D)),x|=(Q[A]=D).u):Q[A]=Z}if((p&x)===p){if(d)for(let r=0;r<b.m.length;r++)O[r]=W;for(A=0;A<j;++A)if((D=Q[A])===Z)R[A]=Z;else if(R[A]=N(b,D,!1,d),R[A]===Y)R[A]=Z;else if(d)for(let r=0;r<b.m.length;r++)-1e3<P[r]&&O[r]>W&&(B=(O[r]+P[r])/4)>O[r]&&(O[r]=B),P[r]>O[r]&&(O[r]=P[r]);if(d){for(let r=0;r<b.m.length;r++)if(O[r]===W)continue r}else{var L=!1;for(let r=0;r<j;r++)if(R[r].g!==W){L=!0;break}if(!L)continue}var q=new G(j);for(let r=0;r<j;r++)q[r]=R[r];if(d){var z=0;for(let r=0;r<b.m.length;r++)z+=O[r]}else{var B,z=W;for(let r=0;r<j;r++)-1e3<(E=q[r]).g&&W<z&&z<(B=(z+E.g)/4)&&(z=B),E.g>z&&(z=E.g)}if(q.obj=M,q.g=z,f?.scoreFn){if(!(z=f.scoreFn(q)))continue;z=I(z),q.g=z}z<w||_(q)}}}else for(var D,E,S=0;S<k;++S)!(D=e[S])||(p&(D=U(D)?D:J(D)).u)!==p||(E=N(b,D))===Y||E.g<w||_(E);if(0===g)return X;for(var F=new Array(g),S=g-1;0<=S;--S)F[S]=$.S();return F.total=g+y,F},prepare:f,cleanup:()=>{s.clear(),u.clear()}}});